var app=app||{};!function(){"use strict";app.TabModel=Backbone.Model.extend({idAttribute:"name",defaults:{name:"",text:"Tab",isblocked:!1,content:"tab's content",isactive:"",hidden:!1},validate:function(e,t){return e.isblocked?"This tab is blocked":void 0},active:function(){this.get("hidden")||this.get("isblocked")||(app.tabs.each(function(e){e.set({isactive:""},{validate:!0})}),this.set({isactive:"active"},{validate:!0}))},hide:function(){this.set({hidden:!0},{validate:!0});var e=!1;app.tabs.each(function(t){t.get("hidden")||t.get("isblocked")||e||(t.active(),e=!0)})},show:function(e){this.set({hidden:!1},{validate:!0})},f:function(){}}),app.Tabs=Backbone.Collection.extend({model:app.TabModel,initialize:function(e){}}),app.TabitemView=Backbone.View.extend({template:_.template($("#tabitem-template").html()),events:{click:"click"},initialize:function(){this.render()},click:function(){this.model.active(),this.model.f()},render:function(){return this.setElement(this.template(this.model.toJSON())),this}}),app.TabsView=Backbone.View.extend({el:"#tabs",initialize:function(){this.render(),this.listenTo(app.tabs,"change add",this.render)},render:function(){$("#tabs, #tabs_").html(""),app.tabs.each(function(e){var t=new app.TabitemView({model:e});this.$el.append(t.el);var i=_.template($("#tabitem_-template_").html());$("#tabs_").append(i(e.toJSON()))},this)}})}();